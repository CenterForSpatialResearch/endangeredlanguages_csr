<!DOCTYPE html>
<html>
	<head>
	 	<meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	  <title>library</title>
	  <link rel="stylesheet" type="text/css" href="../css/testlibrary.css">
	  <link href="https://fonts.googleapis.com/css?family=Cousine" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	</head>

  <style type="text/css">
	  /* Make the chart container fill the page using CSS. */
    #chart {
      position: fixed;
      left: 0px;
      right: 0px;
      top: 0px;
      bottom: 0px;
    }

    /*for map*/
    body {
      margin: 0px;
      border: 0px;
      padding: 0px;
    }

  </style>

	<body>
<!--           <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>

    <div id="vis"></div> -->


    <div id="vis" onclick="openDoor(this)"></div>

  </body>


  <script src="http://d3js.org/d3.v4.min.js"></script>
  <script src="http://d3js.org/d3-queue.v3.min.js"></script>  
  <script src="https://code.jquery.com/jquery-latest.js"></script>      
    
  <script type="text/javascript">

    var chartDiv = document.getElementById("vis");
    var width = chartDiv.clientWidth;
    var height = chartDiv.clientHeight;


    d3.xml("../svg/library-01.svg").mimeType("image/svg+xml").get(function(error, xml) {
      var importedNode = document.importNode(xml.documentElement, true);
      d3.select("div#vis")
        .each(function() {
          this.appendChild(importedNode);
        })
    });


 function openDoor(field) {
            var y = $(field).find("g#to_open, g#bookends, rect.st0");
            var x = y.attr("class");
            if (y.hasClass("thumbOpened")) {
                y.removeClass("thumbOpened");
            }
            else {
                $("g#to_open, g#bookends, rect.st0").removeClass("thumbOpened");
                y.addClass("thumbOpened");
            }
        }


  </script>

</html>