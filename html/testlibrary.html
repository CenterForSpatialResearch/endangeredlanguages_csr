<!DOCTYPE html>
<html>
	<head>
	 	<meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	  <title>library</title>
	  <link rel="stylesheet" type="text/css" href="../css/testlibrary.css">
	  <link href="https://fonts.googleapis.com/css?family=Cousine" rel="stylesheet">
	</head>

  <style type="text/css">
	  /* Make the chart container fill the page using CSS. */
    #chart {
      position: fixed;
      left: 0px;
      right: 0px;
      top: 0px;
      bottom: 0px;
    }

    /*for map*/
    body {
      margin: 0px;
      border: 0px;
      padding: 0px;
    }

  </style>

	<body>
<!--           <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>
          <div class="perspective" onclick="openDoor(this)">
            <div class="thumb">
            </div>
          </div>

    <div id="vis"></div> -->


    <div id="vis"></div>

  </body>


  <script src="http://d3js.org/d3.v4.min.js"></script>
  <script src="http://d3js.org/d3-queue.v3.min.js"></script>  
  <script src="https://code.jquery.com/jquery-latest.js"></script>      
    
  <script type="text/javascript">

    var chartDiv = document.getElementById("vis");
    var width = chartDiv.clientWidth;
    var height = chartDiv.clientHeight;


    d3.xml("../svg/library.svg").mimeType("image/svg+xml").get(function(error, xml) {
      var importedNode = document.importNode(xml.documentElement, true);
      d3.select("div#vis")
        .each(function() {
          this.appendChild(importedNode);
        })
      events()
    });


    function events(){
      d3.selectAll('g#interior1')
        .attr('visibility','hidden')
      //when books are hidden
      d3.selectAll("g#bookends").on("click", function(){
        d3.selectAll('g#interior1').classed("bookOpened", false)
          .attr('visibility','hidden');
        d3.selectAll("g#bookends").classed("bookShifted", false)
      });
      //when books are showing
      d3.selectAll("g#Layer_1, g#interior1").on("click", function(){
        d3.selectAll('g#interior1').classed("bookOpened", true)
          .attr('visibility','');
        d3.selectAll('g#bookends').classed("bookShifted", true)
      });

    }

  </script>

</html>